(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{177:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("Capabilities are sent to the client on connecting to the router. The capabilities shows the following information to determine the possible commands.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("The local installation of "),s("a",{attrs:{href:"https://yang.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("YANG SDK"),s("OutboundLink")],1),t._v(" aborts under "),s("a",{attrs:{href:"https://www.debian.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Debian 10 Sid"),s("OutboundLink")],1),t._v(" and Mac OS X unsuccessfully.")]),t._v(" "),t._m(6),t._m(7),t._v(" "),s("p",[t._v("The installation of "),s("a",{attrs:{href:"https://github.com/CiscoDevNet/ydk-gen/blob/master/README.md#system-requirements",target:"_blank",rel:"noopener noreferrer"}},[t._v("YDK_GEN"),s("OutboundLink")],1),t._v(" is successful with the following commands:")]),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("Alternatively, a Docker container can be used with all dependencies installed.")]),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),s("p",[t._v("The simple way is to generate all bundles by calling the following shell script:")]),t._v(" "),t._m(17),s("p",[t._v("Alternatively generate each bundle separately:")]),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._m(21),t._v(" "),s("p",[t._v("First you need to download the current YANG models from the public "),s("a",{attrs:{href:"https://github.com/YangModels/yang",target:"_blank",rel:"noopener noreferrer"}},[t._v("yang-model repository"),s("OutboundLink")],1),t._v(" for your current router software version.")]),t._v(" "),s("p",[t._v("In our case, we will use the XR 651 models, which fit to our Cisco IOS XR 6.5.1 operating system.")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"yang-data-models"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yang-data-models","aria-hidden":"true"}},[this._v("#")]),this._v(" YANG Data models")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("String")]),t._v(" "),s("th",[t._v("Model")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("urn:ietf:params:xml:ns:yang:ietf-interfaces")])]),t._v(" "),s("td",[t._v("Model URI")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("? module=ietf-interfaces")])]),t._v(" "),s("td",[t._v("Module Name")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("revision=2014-05-08")])]),t._v(" "),s("td",[t._v("Revision Date")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("features=pre-provisioning,if-mib,arbitrary-names")])]),t._v(" "),s("td",[t._v("Protocol Features")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("deviations=ietf-ip-devs")])]),t._v(" "),s("td",[t._v("Another model that modifies this one")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"yang-development-kit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yang-development-kit","aria-hidden":"true"}},[this._v("#")]),this._v(" YANG Development Kit")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("em",[this._v("YANG Development Kit")]),this._v(", short YDK, allows us to generate Python, C++ and Go Backends which are able to communicate to Cisco network devices, like routers and switches.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Cisco provides quite a few alternatives to automatically install YDK. Unfortunately did none of them work on my Debian 10 operating system. Therefore, I had to compile and generate the YDK locally with the sources provided in "),e("em",[this._v("github")]),this._v(" repositories. Following are the steps to generate YDK on your own "),e("em",[this._v("Linux")]),this._v(" machine.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("CMake Error: The following variables are used "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" this project, but they are "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" to NOTFOUND. \n   Please "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" them or "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" sure they are "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" and tested correctly "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the CMake files: \n   ssh_threads_location \n       linked by target "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ydk_"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" directory /tmp/pip-install-279y6ct0/ydk \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The library "),e("em",[this._v("LibSSH-Threads")]),this._v(" is unknown and has to be installed before. See below")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Requirements")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gdebi-core python3-dev python-dev libtool-bin\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" libcurl4-openssl-dev libpcre3-dev libssh-dev libxml2-dev libxslt1-dev cmake\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" libssh2-1-dev\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Folder for compilation (easy cleanup)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" ydk\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" ydk\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Installation LibSSH - Threading")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://git.libssh.org/projects/libssh.git/snapshot/libssh-0.7.6.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" zxf libssh-0.7.6.tar.gz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -f libssh-0.7.6.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" libssh-0.7.6/build "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" libssh-0.7.6/build\ncmake "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Installation gNMI (optional)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ----------------------------")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Installation Protobuff Library")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://github.com/google/protobuf/releases/download/v3.5.0/protobuf-cpp-3.5.0.zip\nunzip protobuf-cpp-3.5.0.zip\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" protobuf-3.5.0\n./configure\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" ldconfig\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Installation gRPC Library")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone -b v1.9.1 https://github.com/grpc/grpc\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" grpc\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" submodule update --init\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" ldconfig\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Installation of prerequisits")]),t._v("\nvirtualenv "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("source")]),t._v(" ./bin/activate "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Activate Virtual Env")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/CiscoDevNet/ydk-gen.git\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" ydk-gen\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" pip2 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -r requirements.txt\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Installation of YDK C++")]),t._v("\npython2 generate.py --cpp --core\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" gen-api/cpp/ydk/build/\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Installation of YDK libydk_gnmi")]),t._v("\npython2 generate.py -cpp --service profiles/services/gnmi-0.4.0.json\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Building all APIs")]),t._v("\n./generate_bundles.sh \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("On the development machine was "),e("em",[this._v("Clang")]),this._v(" C++ Compiler activated.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v(" docker run -it ydkdev/ydk-gen\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"installing-core"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-core","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing Core")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("python2 ./generate.py --libydk\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" gen-api/cpp/ydk/build\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("sudo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("A bit odd is the fact that the command "),s("code",[t._v("./generate.py --libydk")]),t._v(" compiles into the same directory as "),s("code",[t._v("python2 generate.py --cpp --core")]),t._v(", namely "),s("code",[t._v("gen-api/cpp/ydk/build")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("python2 generate.py --python --core\npip "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" gen-api/python/ydk/dist/ydk*.tar.gz\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"install-ydk-bundles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-ydk-bundles","aria-hidden":"true"}},[this._v("#")]),this._v(" Install YDK Bundles")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("./generate_bundles.sh\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("./generate.py --python --bundle profiles/bundles/"),e("span",{pre:!0,attrs:{class:"token operator"}},[this._v("<")]),this._v("name-of-profile"),e("span",{pre:!0,attrs:{class:"token operator"}},[this._v(">")]),this._v(".json\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("And then install each bundle with "),e("code",[this._v("pip")]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("sudo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gen-api/python/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("name-of-bundle"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("-bundle/dist/ydk*.tar.gz\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"writing-first-ydk-application"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#writing-first-ydk-application","aria-hidden":"true"}},[this._v("#")]),this._v(" Writing first YDK Application")])}],!1,null,null,null);e.default=a.exports}}]);